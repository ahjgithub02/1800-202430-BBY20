<!DOCTYPE html>
<html lang="en">

<head>
  <title>Home Page</title>
  <meta name="comp1800 template" content="My 1800 App">

  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Firebase libraries -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
  <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css">

  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- Other libraries go here -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/carousel/">

  <!-- Link to styles of your own -->
  <link rel="stylesheet" href="/styles/style.css">

  <!-- Favicon -->
  <link rel="icon" href="/images/favicon.ico">

  <!-- Boostrap Library JS CDN go here -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>

</head>

<body onload="readReminder(), displayJoindServers()">


  <!-- Templates (These will not be displayed) -->
  <template id="reminderTemplate">
    <div class="form-check mb-2">
      <input class="form-check-input reminderCheckbox" type="checkbox">
      <div class="col-auto">
        <p class="form-check-label reminderText">Reminder text</p>
      </div>
      <div class="col-auto">
        <p class="form-check-label priorityText">Reminder priority</p>
      </div>
      <div class="col-auto">
        <p class="form-check-label timeText">Reminder timestamp</p>
      </div>
      <button class="bt plus-button" onclick="deleteReminder(this)" title="Delete reminder">
        <i class="bi bi-trash"></i>
      </button>
      <hr>
    </div>
  </template>

  <template>
    <div class="row">
      <div class="col-12 mb-2">
        <button class="btn btn-secondary w-100 mb-1"></button>
      </div>
    </div>
  </template>

  <template id="serverDropTemplate">
    <a onclick="toggleDivVisibility()" class="dropdown-item server" id="" href="#">Action</a>
  </template>

  <!-- Templates -->
  <template id="ownedServersTemplate">
    <tr class="servers">
      <td class="serverCode"></td>
      <td class="serverName"></td>
      <td class="serverDescription"></td>
    </tr>
  </template>

  <template id="joinedServersTemplate">
    <tr class="servers">
      <td class="serverCode"></td>
      <td class="serverName"></td>
      <td class="serverDescription"></td>
    </tr>
  </template>

  <!-- End of templates -->


  <!------------------------------>
  <!-- Your HTML Layout go here -->
  <!------------------------------>
  <!-- Stuff for body goes here -->
  <div class="parent-main-container">

    <nav class="navbar navbar-expand-lg bg-secondary-subtle">
      <div class="container-fluid">
        <!-- Logo -->
        <a class="navbar-brand" href="./main.html">
          <img src="/images/RemindMe.jpg" alt="RemindMe" height="50">
        </a>
      </div>
      <div class="container-fluid-2">
        <div class="container-fluid-white-circle">
          <a href="./profile/profile.html"><img src="/images/user.png"></a>
        </div>
      </div>
    </nav>

    <div class="parent-main-container-2">

      <!-- Marketing messaging and featurettes
        ================================================== -->
      <!-- Wrap the rest of the page in another container to center all the content. -->
      <!-- Left Sidebar Navbar -->
      <div class="col-1 py-3 sidebar" id="sidebar">
        <button class="btn btn-link text-light p-3" id="remindersButton" title="Own List">
          <i class="bi-list-check"></i>
        </button>
        <button class="btn btn-link text-light p-3" id="CLACButton" title="Shared List"
          onclick="insertOwnedServerFromFireStore(), insertJoinedServersFromFirestore()">
          <i class="bi bi-people"></i>
        </button>
        <button id="checkedList" class="btn btn-link text-light p-3" onclick="displayCompletedReminders()"
          title="Completed List">
          <i class="bi bi-check-circle"></i>
        </button>
        <button class="btn btn-link text-light p-3" onclick="displayDeletedReminders()" title="Trash">
          <i class="bi bi-trash"></i>
        </button>
      </div>

      <div class="parent-main-container-3">
        <h2 class="welcome-username-message" id="name-goes-here"></h2>
        <div class="select-a-list-message">
          <p>Select a list!</p>
        </div>
        <div class="parent-main-container-4">
          <div class="child-main-container-4-1 reminders">
            <!-- Lists Section -->
            <div class="list-container">
              <div class="child-list-container-1">
                <div id="lists-section" class="reminders border-end" style="background-color: #C4BBAF;">
                  <ul id="navigationListsTop">
                    <li class="list-item toggle-div" id="dueToday">
                      <div class="reminder-category-button-parent" >
                        <h5 class="list-title">
                          Due Today
                        </h5>
                        <div class="reminder-category-button-child">
                          <span class="reminder-counter"></span>
                        </div>
                      </div>
                    </li>
                    <li class="list-item toggle-div" id="dueThisWeek">
                      <div class="reminder-category-button-parent">
                        <h5 class="list-title">
                          Due This Week (7 Days)
                        </h5>
                        <div class="reminder-category-button-child">
                          <span class="reminder-counter"></span>
                        </div>
                      </div>
                    </li>
                    <li class="list-item toggle-div" id="overdue">
                      <div class="reminder-category-button-parent">
                        <h5 class="list-title">
                          Overdue
                        </h5>
                        <div class="reminder-category-button-child">
                          <span class="reminder-counter"></span>
                        </div>
                      </div>
                    </li>
                    <li class="list-item-2">
                      <div class="reminder-category-button-parent">
                        <h5 class="list-title">
                          Your Lists
                        </h5>
                        <div class="reminder-category-button-child">
                          <button class="plus-button" id="" data-bs-toggle="modal" data-bs-target="#newListModal">
                            Add
                          </button>
                          <span id="personal-list-counter" class="reminder-counter"></span>
                        </div>
                      </div>
                      <div id="own-list"></div>
                    </li>
                    <li class="list-item-2">
                      <div class="reminder-category-button-parent">
                        <h5 class="list-title">
                          Owned Shared List
                        </h5>
                        <div class="reminder-category-button-child">
                          <button class="plus-button" id="" data-bs-toggle="" data-bs-target="">
                            Create
                          </button>
                          <span id="owned-list-counter" class="reminder-counter"></span>
                        </div>
                      </div>
                      <div id="ownedServersLists"></div>
                    </li>
                    <li class="list-item-2">
                      <div class="reminder-category-button-parent">
                        <h5 class="list-title">
                          Joined Shared List
                        </h5>
                        <div class="reminder-category-button-child">
                          <button class="plus-button" id="" data-bs-toggle="" data-bs-target="">
                            Join
                          </button>
                          <span id="joined-list-counter" class="reminder-counter"></span>
                        </div>
                      </div>
                      <div id="joinedServersDropdown"></div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="child-main-container-4-2 reminders toggle-div hidden">

            <!-- Reminders Section -->
            <div id="main-section" class="reminders">
              <div id="remindersSection">
                <!-- Reminders Title and Counter Box -->
                <div class="reminder-counter-box">
                  <div class="d-flex align-items-center">
                    <h2 id="ReminderlistName" class="mb-0 text-white me-3">Reminders</h2>
                    <span id="reminderCount" class="badge bg-light text-dark rounded-circle p-3">0</span>
                  </div>
                  <a class="display-flexable-buttons btn d-flex justify-content-center align-items-center"
                  id="deleteListButton" aria-modal data-bs-toggle="modal"
                  data-bs-target="#taskModal"
                  style="background-color: #A5978B; color: white; width: 50px; height: 50px; border-radius: 8px; font-size: 24px; border: none; line-height: 1;">
                    Trash
                </a>
                  <!-- Add Reminder Button -->
                  <a class="display-flexable-buttons btn d-flex justify-content-center align-items-center"
                    id="addReminderButton" title="Add a New Reminder" aria-modal data-bs-toggle="modal"
                    data-bs-target="#taskModal"
                    style="background-color: #A5978B; color: white; width: 50px; height: 50px; border-radius: 8px; font-size: 24px; border: none; line-height: 1;">
                    +
                  </a>
                </div>
              </div>

              <div id="listRemindersContainer" class="mt-4">
                <!-- Dynamically added reminders will go here -->
                <ul class="list-group" id="reminders-list">
                  <!-- Manually created task list will be inserted here -->
                </ul>
              </div>
            </div>
          </div>

        </div>

        <!-- Server page (hidden by default) -->
        <main id="CLAC">
          <div class="jumbotron">
            <div class="container">
              <h1 class="display-3">Collaborative Live Shared Lists</h1>
              <p>This is our app's core feature which will allow you and other people in
                the same group to create tasks and reminders to notify everybody about
                every deadline and its due date. By collaborating in list, you can
                help and get help on every assignment's deadlines which a lot of people usually forget!
              </p>
            </div>
          </div>

          <div class="container">
            <!-- Example row of columns -->
            <div class="row">
              <div class="col-md">
                <h2>Join a Shared list</h2>
                <p>Joining your class or group reminder server with just a simple code. </p>
                <p><a class="btn btn-secondary" href="./server/joinServer.html" role="button">Join &raquo;</a></p>
              </div>
              <div class="col-md">
                <h2>Create a Shared list</h2>
                <p>Create your own server and invite other people to help build a more productive group.</p>
                <p><a class="btn btn-secondary" href="./server/makeServer.html" role="button">Create &raquo;</a></p>
              </div>
            </div>
            <hr>

            <div id="server-container">
              <h2>Owned Shared lists</h2>
              <div id="owned-container">
                <table>
                  <thead>
                    <tr>
                      <th> List Code</th>
                      <th> List Name</th>
                      <th> Description</th>
                    </tr>
                  </thead>
                  <tbody id="owned">
                  </tbody>
                </table>
              </div>
              <hr>
              <h2>Joined Shared lists</h2>
              <div id="joined-container">
                <table>
                  <thead>
                    <tr>
                      <th> List Code</th>
                      <th> List Name</th>
                      <th> Description</th>
                    </tr>
                  </thead>
                  <tbody id="joined">
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>
  </div>

  <div class="modal fade" id="taskModal" tabindex="-1" aria-labelledby="taskModalLabel">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="taskModalLabel">Create New Task</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Task Creation Form Inside Modal -->
          <div class="mb-3">
            <label for="modalTaskTitle" class="form-label">Task</label>
            <input type="text" class="form-control" id="modalTaskTitle" placeholder="Enter Task" required>
          </div>
          <div class="mb-3">
            <label for="modalTaskDueTime" class="form-label">Due Date and Time</label>
            <input type="datetime-local" class="form-control" id="modalTaskDueTime" name="modalTaskDueTime" required>
          </div>
          <!-- Priority Options -->
          <div class="mb-3">
            <label class="form-label">Priority</label>
            <div class="priority-buttons">
              <input type="radio" class="btn-check" name="priority" id="priority-highest" value="highest" required>
              <label class="btn btn-outline-dark priority-btn" for="priority-highest">Highest</label>

              <input type="radio" class="btn-check" name="priority" id="priority-moderate" value="moderate">
              <label class="btn btn-outline-dark priority-btn" for="priority-moderate">Moderate</label>

              <input type="radio" class="btn-check" name="priority" id="priority-low" value="low">
              <label class="btn btn-outline-dark priority-btn" for="priority-low">Low</label>

              <!-- No Priority Selected by Default -->
              <input type="radio" class="btn-check" name="priority" id="priority-none" value="none" checked>
              <label class="btn btn-outline-dark priority-btn" for="priority-none">No Priority</label>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" id="addReminder" class="btn btn-primary">Save Task</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Modal to create new list -->
  <div class="modal fade" id="newListModal" tabindex="-1" aria-labelledby="newListModalLabel" aria-hidden="true">
    <div id="new-list-modal" class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newListModalLabel">Create New List</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label for="listName" class="form-label">List Name</label>
              <input type="text" class="form-control" id="listName" placeholder="Enter list name">
            </div>
            <div class="mb-3">
              <label for="listDescription" class="form-label">Description</label>
              <textarea class="form-control" id="listDescription" rows="3" placeholder="Enter description"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="create-list">Create</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Toast Notification (hidden by default) -->
  <div id="taskNotification"
    class="toast align-items-center text-white bg-success border-0 position-fixed bottom-0 end-0 m-3" role="alert"
    aria-live="assertive" aria-atomic="true" style="display: none;">
    <div class="d-flex">
      <div class="toast-body">
        Task completed
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
        aria-label="Close"></button>
    </div>
  </div>

  <hr>

  <div class="footer-parent">
    <div class="footer-1">
      <p>&copy; 2024 BCIT COMP 1800 RemindMe Team</p>
      <div class="footer-1-child">
        <img src="/images/instagram.png" alt="instagram">
        <img src="/images/tiktok.png" alt="tiktok">
        <img src="/images/twitter.png" alt="twitter">
      </div>
    </div>
    <div class="footer-2">
      <p>Need help? <a href="./contact/contactUs.html"> Contact Us</a></p>
    </div>
  </div>

  <!---------------------------------------------->
  <!-- Your own JavaScript functions go here    -->
  <!---------------------------------------------->

  <!-- Link to scripts of your own -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="./scripts/jquery-3.2.1.slim.min.js"><\/script>')</script>
  <!--Using env variable to avoid pushing API key into github-->
  <script src="/scripts/firebaseAPI_BBY20.js"></script>
  <script src="/scripts/script.js"></script>
  <script src="/scripts/createList.js"></script>
  <script src="/scripts/writeReminders.js"></script>
  <script src="/scripts/readReminders.js"></script>
  <script src="/scripts/popper.min.js"></script>
  <script src="/scripts/main.js"></script>
  <script src="/scripts/completeReminders.js"></script>
  <script src="/scripts/deleteReminders.js"></script>
  <script src="/scripts/serverPage.js"></script>
  <script src="/scripts/categoryListener.js"></script>
  <script src="/scripts/togglediv.js"></script>

</body>

</html>